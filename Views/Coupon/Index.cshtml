@model CouponEditModel
@using PagedList.Mvc;
@{
	ViewBag.Title = string.Format(Resources.Resource.SettingsFormat, Resources.Resource.Coupon);
	int rand = CommonHelper.GetVersionRandomNo();
}
<link href="~/Content/settings/coupon/index.css?v=@rand" rel="stylesheet" type="text/css" />

<h2 class="clearfix">
	@ViewBag.Title
	<a href="/Coupon/Edit?Id=0" class="btn btn-warning btnsmall40 float-right" title="@Resources.Resource.Add">@Resources.Resource.Add</a>
</h2>

@Html.AntiForgeryToken()

@using (Html.BeginForm("Index", "Coupon", FormMethod.Get, new { @Id = "frmCoupon" }))
{
	@Html.Partial("_SearchBlk", null, new ViewDataDictionary { { "Keyword", Model.Keyword }, { "additionalcls", "my-4" } })

	if (Model.CouponList != null && Model.CouponList.Count > 0)
	{
		<table id="tblCoupon" class="table table-bordered table-hover table-condensed">
			<thead class="gray-header font-weight-bold">
				<tr>
					<th class="text-center colheader" data-col="0">@Resources.Resource.CompanyName1</th>
					<th class="text-center colheader" data-col="1">@Resources.Resource.Title4Coupon</th>
					<th class="text-center colheader" data-col="2">@Resources.Resource.Price ($)</th>
					<th class="text-center colheader" data-col="3">@Resources.Resource.DiscPc</th>
					<th class="text-center colheader" data-col="4">@Resources.Resource.ExpiryDate</th>
					<th class="text-center colheader" data-col="5">@Resources.Resource.IssuedQty</th>
					<th class="text-center colheader" data-col="6">@Resources.Resource.CreateTime</th>
					<th class="text-center action"></th>

				</tr>
			</thead>
			<tbody>
				@foreach (var coupon in Model.PagingCouponList)
				{
					<tr>
						<td class="text-center">@coupon.cpCompanyName</td>
						<td class="text-center">@coupon.cpTitle</td>
						<td class="text-center">@coupon.PriceDisplay</td>
						<td class="text-center">@coupon.DiscPcDisplay</td>
						<td class="text-center">@coupon.ExpiryDateDisplay</td>
						<td class="text-center">@coupon.cpIssuedQty</td>
						<td class="text-center">@coupon.CreateTimeDisplay</td>
						<td class="text-center action">
							<a class="btn btn-warning btnsmall" role="button" href="/Coupon/Edit?Id=@coupon.Id" title="@Resources.Resource.Edit"><i class="fa fa-edit"></i></a>
							<a class="btn btn-danger btnsmall remove" role="button" href="#" data-id="@coupon.Id" title="@Resources.Resource.Remove"><i class="fa fa-trash"></i></a>
						</td>
					</tr>
				}
			</tbody>
		</table>

		<div id="pagingblk" class="my-3">
			@Html.PagedListPager(Model.PagingCouponList, PageNo => Url.Action("Index",
	new { PageNo, SortOrder = Model.CurrentSortOrder, SortCol = Model.SortCol, Keyword = Model.Keyword, PageSize = Model.PageSize }))
		</div>

		@Html.Partial("_SortOrderColHidden")
	}
	else
	{
		@Html.Partial("_NoRecordFound")
	}
}



@Html.Partial("_WaitingModal")
<div id="infoblk" data-pagesize="@Model.ComInfo.PageLength"></div>

<script src="~/Scripts/ASPSnippets_Pager.min.js"></script>
<script src="~/Scripts/ts/js/settings/coupon/index.js?v=@rand"></script>




